{% extends 'base.html' %}
{% load static %}

{% block company %}{{ post.company }}{% endblock %}


{% block content %}
    <script src="https://kit.fontawesome.com/64d58efce2.js" crossorigin="anonymous"></script>

<style>
 h1.second {
        font-weight: bolder;
		color:black;
		font-size:23px;
		display:inline
    }
    #details
	 {
        font-weight: bolder;
		color:#0088cc;
		font-size:22px;
		display:inline;

    }
    h1.second span {
        position: relative;
        display: inline-block;
        padding: 5px 10px;
        border-radius: 10px;
        border-bottom: 1px solid mediumseagreen;color:black
    }
    
    h1.second span:after {
        content: '';
        position: absolute;
        bottom: calc(-100% - 1px);
        margin-left: -10px;
        display: block;
        width: 100%;
        height: 100%;
        border-radius: 10px;
        border-top: 1px solid mediumseagreen;
    }
.card {
        margin: 0 auto; /* Added */
        float: none; /* Added */
        margin-bottom: 10px; /* Added */
}
h4,span{
	color:black;
}table { 
	width: 750px; 
	border-collapse: collapse; 
	margin:50px auto;
	}

/* Zebra striping */
tr:nth-of-type(odd) { 
	background: #eee; 
	}

th { 
	background: #3498db; 
	color: white; 
	font-weight: bold; 
	}

td, th { 
	padding: 10px; 
	border: 1px solid #ccc; 
	text-align: left; 
	font-size: 18px;
	}

/* 
Max width before this PARTICULAR table gets nasty
This query will take effect for any screen smaller than 760px
and also iPads specifically.
*/
@media 
only screen and (max-width: 760px),
(min-device-width: 768px) and (max-device-width: 1024px)  {

	table { 
	  	width: 100%; 
	}
	th { 
	background: #3498db; 
	color: white; 
	font-weight: bold; 
	}
	#commentimg{
		display:none;
	}
	/* Force table to not be like tables anymore */
	table, thead, tbody, th, td, tr { 
		display: block; 
	}
	
	/* Hide table headers (but not display: none;, for accessibility) */
	thead tr { 
		position: absolute;
		top: -9999px;
		left: -9999px;
	}
	
	tr { border: 1px solid #ccc; }
	
	td { 
		/* Behave  like a "row" */
		border: none;
		border-bottom: 1px solid #eee; 
		position: relative;
		padding-left: 50%; 
	}

	td:before { 
		/* Now like a table header */
		position: absolute;
		/* Top/left values mimic padding */
		top: 6px;
		left: 6px;
		width: 45%; 
		padding-right: 10px; 
		white-space: nowrap;
		/* Label the data */
		content: attr(data-column);

		color: #000;
		font-weight: bold;
	}
}
p,td{
	color:black;
	font-weight:bold
}
#like_counter{
	color:white;
	font-weight:bold
}

.col-sm-6 {
  background: #a4a4a4;
}



.p {
  text-align: center;
  padding-top: 120px;
}

.p a {
  text-decoration: underline;
  color: blue;
}
#btnSearch,
#btnClear{
    display: inline-block;
    vertical-align: top;
	font-weight:bolder;
	margin:3px;
}
button{
	font-weight:bolder
}
#name_details{
	font-weight:bolder;
	color:black;
	background-color:lightgrey;
	padding:3px;

	border-radius:10px
}
#msg_details{
	font-weight:bold;
	color:black;
}
</style>

	{% comment %} <h1>{{ post.company }}</h1> {% endcomment %}
	<h1 class="second"><span> {{ post.company }}</span></h1>
<br>
	<small style="font-weight:bolder;margin-left:0.6rem;margin-bottom:1rem">By: 
	<span id="name_details" style="padding:0.3rem">	{{ post.author.first_name }} 
		{{ post.author.last_name }}</span> - 
		{{ post.post_date }}  
		
		{% if user.is_authenticated %}
			{% if user.id == post.author.id %}
				- <a href="{% url 'update_post' post.pk %}">(Edit)</a>

				<a href="{% url 'delete_post' post.pk %}">(Delete)</a>
			{% endif %}
		{% endif %}
	</small><br/>

	
	<div class="card" style="width: 20rem;">
  {% if post.Company_Logo %}
		<img src="{{ post.Company_Logo.url }}">
	{% endif %}

 
</div>
<table>
  <thead>
    <tr>
      <th>Hiring Type </th>
      <th>Compensation </th>
      <th>No. Hired with Type</th>
      <th>Author</th>
	  <th>Student Placed</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td data-column="Hiring Type">{{post.hiring_type}}</td>
      <td data-column="Compensation ">{{post.compensation_Details}}</td>
      <td data-column="No. Hired with Type">{{post.number_hired_with_role}}  </td>
      <td data-column="Author">{{post.author.first_name}} {{post.author.last_name}}</td>
	    <td data-column="Student Placed">{{post.student_Name}}</td>
    </tr>    
  </tbody>
</table>
 {% comment %} 
 <h1 class="second" style="color:black"><span> Hiring Type   </span></h1> <span id="details"> - </span> <span id="details">{{post.hiring_type}}</span><br>
 <h1 class="second" style="color:black"><span> Compensation Details</span></h1><span id="details"> - </span> <span id="details">{{post.compensation_Details}}</span><br>
 <h1 class="second" style="color:black"><span> Number Hired with Type</span></h1><span id="details"> - </span> <span id="details">{{post.number_hired_with_role}}</span><br>
 {% endcomment %}
<div class="card text" style="padding:1rem">
 <h1 class="second text-center"  ><span > Interview Rounds With Detailed Description</span></h1><hr>
  {{ post.Interview_Rounds_with_detailed_description|safe }}

</div>
<div class="card text" style="padding:1rem">
 <h1 class="second text-center"  ><span > Additional Topics And Students Overall Experience</span></h1><hr>
  {{ post.Additional_Topics|safe }}

</div>

	
	
	<div class="card p-3">
	<form action="{% url 'like_post' post.pk %}" method="POST">
		{% csrf_token %}
	
	{% if user.is_authenticated %}
		{% if liked %}
		<button type="submit" name="post_id" value="{{ post.id }}" class="btn btn-danger"><i class="fas fa-thumbs-down"></i></button>
			{% comment %} <button type="submit", name="post_id", value="{{ post.id }}", class="btn btn-danger btn-sm">Unlike</button>  {% endcomment %}
		{% else %}	
		<button type="submit" name="post_id" value="{{ post.id }}" class="btn btn-success"><i class="fas fa-thumbs-up"></i></button>
			{% comment %} <button type="submit", name="post_id", value="{{ post.id }}", class="btn btn-primary btn-sm">Like</button>  {% endcomment %}

		{% endif %}
	{% else %}
		<small><a href="{% url 'login' %}">Login</a> to like</small>
	{% endif %}
			<button type="submit" name="post_id" value="{{ post.id }}" class="btn btn-primary pull-right" id="like_counter">{{ total_likes }} Likes</button>

	
	
	</form>


</div>
<h1 class="second" ><span style="margin-bottom:1rem">AUTHOR'S PROFILE</span></h1>
 <br>
<div class="card p-2" >

  <div class="row">
    <div class="col-sm-2">
     {% if post.author.profile.profile_pic %}
     <center><img src="{{ post.author.profile.profile_pic.url }}" class="card-img rounded-circle" height="170" width="170"></center> 

{% else %}
	<img src="{% static 'theblog/images/default_profile_pic.jpg' %}" class="card-img">
{% endif %}
    </div>
    <div class="col-sm-10 other">
  <div class="card-body">
        <h5 class="card-title" style="font-weight:bolder">
        	{{ post.author.first_name }} 
			{{ post.author.last_name }}
		</h5>
<div class="row">
    <div class="col-sm-12">

         <a href="{% url 'show_profile_page' post.author.profile.id %}"><button id="btnClear" class="btn btn-primary btn-md center-block" Style="width: 100px;" OnClick="btnClear_Click" >Profile</button></a>
		
        {% if post.author.profile.website_url %}   
         <a href="{{ post.author.profile.website_url }}"><button id="btnClear" class="btn btn-primary btn-md center-block" Style="width: 100px;" OnClick="btnClear_Click" >Portfolio</button></a>
		{% endif %}
		{% if post.author.profile.linkedin_url %}   
         <a href="{{ post.author.profile.linkedin_url }}"><button id="btnClear" class="btn btn-primary btn-md center-block" Style="width: 100px;" OnClick="btnClear_Click" >LinkedIn</button></a>
		{% endif %} 
        		 </div>
</div>
{% comment %} <p class="small text-muted">
	
	<a href="{% url 'show_profile_page' post.author.profile.id %}">Profile Page</a>

	{% if post.author.profile.website_url %}
		| <a href="{{ post.author.profile.website_url }}">  Website</a>  
	{% endif %}

	
	{% if post.author.profile.facebook_url %}
		 | <a href="{{ post.author.profile.facebook_url }}">Facebook</a>  
	{% endif %}


	{% if post.author.profile.twitter_url %}
		| <a href="{{ post.author.profile.twitter_url }}">Twitter</a> 
	{% endif %}


	{% if post.author.profile.instagram_url %}
		| <a href="{{ post.author.profile.instagram_url }}">Instagram</a>
	{% endif %}


	


</p> {% endcomment %}
<hr>

 <h5 class="card-title" style="font-weight:bolder">
        About {{ post.author.first_name }} 
			{{ post.author.last_name }}
		</h5>
<p class="card-text">
        	{{ post.author.profile.bio }}
        </p>
		<br>
         <h6 class="card-title" style="font-weight:bolder">
        {% if post.author.profile.email %}   
         Email Id - <a style="text-decoration:underline" href="mailto:{{ post.author.profile.email }}">{{ post.author.profile.email }}</a>
		{% endif %}
		</h5>

      </div>
    </div>
  </div>
</div>

<br/>
{% comment %} <div class="card mb-3">
  <div class="row no-gutters">
    <div class="col-md-2">
{% if post.author.profile.profile_pic %}
      <img src="{{ post.author.profile.profile_pic.url }}" class="card-img">

{% else %}
	<img src="{% static 'theblog/images/default_profile_pic.jpg' %}" class="card-img">
{% endif %}
    </div>
    <div class="col-md-10">
      <div class="card-body">
        <h5 class="card-title">
        	{{ post.author.first_name }} 
			{{ post.author.last_name }}
		</h5>

<p class="small text-muted">
	
	<a href="{% url 'show_profile_page' post.author.profile.id %}">Profile Page</a>

	{% if post.author.profile.website_url %}
		| <a href="{{ post.author.profile.website_url }}">  Website</a>  
	{% endif %}

	
	{% if post.author.profile.facebook_url %}
		 | <a href="{{ post.author.profile.facebook_url }}">Facebook</a>  
	{% endif %}


	{% if post.author.profile.twitter_url %}
		| <a href="{{ post.author.profile.twitter_url }}">Twitter</a> 
	{% endif %}


	{% if post.author.profile.instagram_url %}
		| <a href="{{ post.author.profile.instagram_url }}">Instagram</a>
	{% endif %}


	{% if post.author.profile.pinterest_url %}
		| <a href="{{ post.author.profile.pinterest_url }}">Pinterest</a>
	{% endif %}


</p>


<p class="card-text">
        	{{ post.author.profile.bio }}
        </p>
        
      </div>
    </div>
  </div>
</div> {% endcomment %}

<h1 class="second" ><span style="margin-bottom:1rem">COMMENTS SECTION</span></h1>
 <br>

 <a href="{% url 'add_comment' post.pk %}"><button class="btn btn-primary" style="margin-top:1rem;font-weight:bolder" >POST COMMENT </button></a>
 <br><br/>
 
<div class="card p-2" >
{% for comment in post.comments.all %}
  <div class="row">
    <div class="col-sm-2">
     {% if post.author.profile.profile_pic %}
     <center><img src="{{ post.author.profile.profile_pic.url }}" class="card-img rounded-circle" height="130" width="110" id="commentimg"></center> 

{% else %}
	<center><img src="{% static 'theblog/images/default_profile_pic.jpg' %}" class="card-img rounded-circle" height="130" width="110" id="commentimg"></center>
{% endif %}
    </div>
    <div class="col-sm-10 other">
  <div class="card-body">
        <h5 class="card-title" style="font-weight:bolder">
        <span id="name_details" style="	margin-right:0.2rem">{{ post.author.first_name }} 
			{{ post.author.last_name }} </span> - <span id="msg_details"> {{ comment.date_added }} </spam>
		</h5>

<h5 class="card-text" style="font-weight:bolder">
        	{{ comment.body }} 
		</h5>


        
      </div><hr>
    </div>
  </div>{% endfor %}
</div>

<br/>
<br/>

{% comment %} <h1 class="second"><span>COMMENTS SECTION</span></h1>
<br/>
<div class="card p-3">
{% if not post.comments.all %}
	No Comments Yet...<a href="{% url 'add_comment' post.pk %}">Add One</a>
{% else %}

<a href="{% url 'add_comment' post.pk %}">Add Comment</a>
<br/><br/>

	{% for comment in post.comments.all %}
		<strong>
		    	{{ post.author.first_name }} 
			{{ post.author.last_name }}
			{{ comment.body }} - 
			{{ comment.date_added }}
		</strong>
		<br/>
		{{ comment.Interview_Rounds_with_detailed_description }}
		<br/><br/>
		
	
	{% endfor %}
		<a href="{% url 'add_comment' post.pk %}">Add Comment</a>
{% endif %}
</div>
<br/>



<br/><br/> {% endcomment %}
{% endblock %}